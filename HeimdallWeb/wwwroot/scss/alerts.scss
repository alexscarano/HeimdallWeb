// Universal alert styles for dark theme
$alert-danger-bg: #e74c3c; // primary error
$alert-danger-bg-soft: #c0392b; // softer/hover error
$alert-success-bg: #2ecc71; // primary success
$alert-success-bg-soft: #27ae60; // softer/hover success

// Preferred font stack; if you want a specific webfont also add its <link> in _Layout.cshtml
$alert-font-stack: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, system-ui, -apple-system, sans-serif;

.alert {
  border: 1px solid rgba(0,0,0,0.18); // thin black border to match shadow
  border-radius: 0.5rem;
  padding: 0.9rem 1rem;
  font-weight: 600;
  position: relative; // participate in document flow so alert sits between navbar and hero
  margin: 1.2rem auto 0; // space below navbar, centered horizontally
  z-index: 1050; // above most content if needed
  width: min(50vw, 500px); // sized to fit between page margins, capped
  box-sizing: border-box;
  padding-right: 2.6rem; // leave space for close button at right

  // typography + alignment
  font-family: $alert-font-stack;
  text-align: center; // center text horizontally
  letter-spacing: 0.2px;
  line-height: 1.25;
  font-size: 0.95rem;

  // subtle elevated shadow to separate from busy background
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.02);

  // base hover/focus transitions
  transition: background-color 160ms ease, box-shadow 160ms ease, transform 120ms ease;

  &.alert-success {
    background-color: $alert-success-bg !important;
    color: #ffffff !important; /* white text on green */
    border: 3px solid rgba(0,0,0,0.18) !important; // harmonize with outer border

    &:hover,
    &:focus {
      background-color: $alert-success-bg-soft !important;
      box-shadow: 0 14px 36px rgba(0,0,0,0.38);
    }
  }

  &.alert-danger, &.alert-error {
    background-color: $alert-danger-bg !important;
    color: #ffffff !important; /* white text on red */
    border: 3px solid rgba(0,0,0,0.18) !important; // harmonize with outer border

    &:hover,
    &:focus {
      background-color: $alert-danger-bg-soft !important;
      box-shadow: 0 14px 36px rgba(0,0,0,0.38);
    }
  }

  a {
    text-decoration: underline;
    color: inherit;
  }

  // position close button inside alert at top-right
  .btn-close {
    position: absolute !important;
    right: 0.45rem !important;
    top: 0.45rem !important;
    width: 1.6rem !important;
    height: 1.6rem !important;
    padding: 0 !important;
    z-index: 1060 !important;
    opacity: 0.95;
    filter: invert(1) brightness(1.2) !important; // ensure visible on colored background

    // ensure clear hit area on small screens
    @media (max-width: 576px) {
      right: 0.6rem !important;
      top: 0.45rem !important;
    }
  }

}

// Stronger / more specific selectors to override other styles and handle fade.show
body .alert.alert-success, .alert.alert-success, body .alert.alert-success.fade.show, .alert.alert-success.fade.show {
  background-color: $alert-success-bg !important;
  color: #ffffff !important;
  border: 1px solid rgba(0,0,0,0.18) !important;
}

body .alert.alert-danger, .alert.alert-danger, body .alert.alert-danger.fade.show, .alert.alert-danger.fade.show, .alert.alert-error {
  background-color: $alert-danger-bg !important;
  color: #ffffff !important;
  border: 1px solid rgba(0,0,0,0.18) !important;
}

// Mobile: full-width alerts and keep them near top, avoid overflow
@media (max-width: 576px) {
  .alert {
    width: calc(100% - 1.2rem) !important;
    margin: 0.6rem auto !important;
    transform: none !important;
    padding-right: 2.4rem; // leave space for close button
    box-shadow: 0 8px 20px rgba(0,0,0,0.32);
    font-size: 0.92rem;
    text-align: center;
    border: 1px solid rgba(0,0,0,0.16) !important;
  }
  .alert .btn-close {
    right: 0.6rem !important;
    top: 0.35rem !important;
  }
}
