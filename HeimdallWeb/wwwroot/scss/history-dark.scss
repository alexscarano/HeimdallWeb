// Dark theme adjustments for History page (SCSS)
$heimdall-dark: #1c3033;
$heimdall-dark-2: #163033;
$heimdall-accent: #2a6b6d;
$heimdall-muted: #9fb7b7;
$heimdall-danger: #c94b56;
$heimdall-primary: #2f6f8f;

// Preserve CSS variables for runtime use if needed
:root {
  --heimdall-dark: #{$heimdall-dark};
  --heimdall-dark-2: #{$heimdall-dark-2};
  --heimdall-accent: #{$heimdall-accent};
  --heimdall-muted: #{$heimdall-muted};
}

// Header helper so the page header aligns with container content and has extra inner padding
.history-header {
  padding-left: 1.25rem; /* move text away from left edge */
  padding-right: 1.25rem; /* move controls away from right edge */
  border-radius: 0.85rem; /* slightly more rounded than default rounded-3 */
}

// Ensure links and texts inside history header are visible on dark background
.history-header, .history-header a, .history-header .nav-link {
  color: #ffffff !important;
}

.history-header a.nav-link {
  padding: 0.375rem 0.6rem;
  border-radius: 0.35rem;
}

.history-header a.nav-link:hover {
  color: #ffffff !important;
  background: rgba(255,255,255,0.03);
  text-decoration: none;
}

// Panel container for centered pages (black background + rounded border)
.page-panel {
  background: #050505; /* near pure black */
  color: #ffffff;
  border-radius: 1rem;
  padding: 1.25rem;
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
}

// Form controls inside panel
.page-panel .form-control {
  background: rgba(255,255,255,0.03) !important;
  color: #ffffff !important;
  border: 1px solid rgba(255,255,255,0.06) !important;
}

.page-panel .form-control::placeholder {
  color: rgba(255,255,255,0.6) !important;
}

.page-panel .form-label,
.page-panel .form-check-label {
  color: #ffffff !important;
}

.page-panel .btn-primary {
  background: $heimdall-accent !important;
  border-color: rgba($heimdall-accent, 0.9) !important;
}

.page-panel .btn-outline-secondary {
  color: #eaf7f6 !important;
  border-color: rgba(255,255,255,0.06) !important;
}

// Global adjustments for table typography and alignment
.table {
  // slightly larger readable font for the history table
  th, td {
    font-size: 0.98rem; /* slightly larger */
    vertical-align: middle;
    text-align: center; /* default center for readability */
    padding: 0.6rem 1rem; /* increase horizontal padding to keep text away from edges */
  }

  // Keep any explicit helper classes (like text-start on the Site column) to override centering
  td.text-start {
    text-align: left !important;
  }

  // Make interactive cells more obvious on hover
  tbody td {
    transition: background .15s ease, color .15s ease, transform .06s ease;
  }

  tbody td:hover {
    background: rgba(42,107,109,0.08); /* subtle accent background on cell hover */
    color: #eaf7f6; /* lighter text on hover */
    transform: translateY(-1px);
  }
}

// Container that holds the table
.table-responsive.shadow-sm.rounded {
  background: rgba(16,24,25,0.85);
  padding: 1rem; /* more inner spacing so content is not tight against borders */
  border-radius: 0.85rem; /* more rounded corners */
  border: 1px solid rgba(255,255,255,0.04);

  // Table specific rules
  .table {
    & thead th {
      background: $heimdall-dark !important;
      color: #f5fbfb !important;
      border-bottom: 2px solid rgba(255,255,255,0.06);
      // adjusted padding to match findings modal header spacing
      padding: 0.85rem 1rem !important;
      line-height: 1.2 !important;
    }

    & tbody {
      tr {
        // darker subtle row background
        background: linear-gradient(90deg, rgba(8,12,13,0.35), rgba(12,16,17,0.35));
        color: $heimdall-muted;
        transition: background .15s ease;

        &:hover {
          background: linear-gradient(90deg, rgba(12,16,17,0.6), rgba(18,22,22,0.6));
          color: #e9fbfa;
        }
      }

      td {
        border-top: 1px solid rgba(255,255,255,0.03);
        color: $heimdall-muted;
        // adjusted padding to match findings modal body spacing
        padding: 0.75rem 1rem !important;
      }
    }

    // Links inside table (remove blue link default)
    a.btn-link {
      color: $heimdall-accent;
      text-decoration: none;
    }
  }
}

// Style specific rows that use text-center.align-middle (user requested)
.table tbody tr.text-center.align-middle {
  // subtle darker band and lighter text to stand out
  background: rgba(14,20,21,0.5);
  color: #e8f6f5;
}

// Buttons for findings/technologies (primary dark buttons matching bg)
.btn-findings, .btn-tech {
  background: $heimdall-dark;
  color: #fff;
  border: 1px solid $heimdall-dark-2;
  padding: 0.35rem 0.7rem;
  font-size: 0.95rem;
  border-radius: 0.35rem;
  box-shadow: none;
  white-space: nowrap;
  &:hover {
    background: $heimdall-accent;
    color: #fff;
  }
}

// Override outline button colors to match palette
.btn-outline-success {
  color: $heimdall-accent;
  border-color: rgba($heimdall-accent, 0.85);
  &:hover {
    background: rgba($heimdall-accent, 0.12);
    color: #fff;
  }
}

.btn-outline-primary {
  color: $heimdall-primary;
  border-color: rgba($heimdall-primary, 0.85);
  &:hover {
    background: rgba($heimdall-primary, 0.12);
    color: #fff;
  }
}

.btn-outline-danger {
  color: $heimdall-danger;
  border-color: rgba($heimdall-danger, 0.85);
  &:hover {
    background: rgba($heimdall-danger, 0.12);
    color: #fff;
  }
}

// Small action buttons (JSON/Resumo/Excluir) - subtle dark variants
.btn-group {
  .btn-sm {
    border-radius: 0.35rem;
    padding: 0.35rem 0.55rem;
    box-shadow: none;
  }
}

// Pagination styles
.pagination {
  .page-link {
    background: rgba(34,57,58,0.9);
    color: #ffffff;
    border: 1px solid rgba(0,0,0,0.2);
    &:hover { background: $heimdall-accent; }
  }

  .page-item.active {
    .page-link {
      background: $heimdall-dark;
      border-color: $heimdall-dark-2;
      color: #fff;
    }
  }
}

// Modal tables dark adjustments
.modal-content {
  background: rgba(18,23,24,0.95);
  color: #eaf7f6;
}
.modal-header, .modal-footer {
  border-color: rgba(255,255,255,0.03);
}

// Modal-specific table dark rows
.modal-content .table {
  color: #eaf7f6;
  border-collapse: separate;
}

.modal-content .table thead th {
  background: rgba(12,16,17,0.95);
  color: #ffffff;
  border-bottom: 1px solid rgba(255,255,255,0.06);
}

.modal-content .table tbody tr {
  background: rgba(10,12,13,0.35);
  color: $heimdall-muted;
  transition: background .12s ease, color .12s ease;
}

.modal-content .table tbody tr:hover {
  background: rgba(14,18,18,0.65);
  color: #eaf7f6;
}

.modal-content .table tbody td {
  border-top: 1px solid rgba(255,255,255,0.03);
  color: $heimdall-muted;
}

// Striped effect for modal rows
.modal-content .table tbody tr:nth-child(odd) {
  background: rgba(12,14,15,0.28);
}
.modal-content .table tbody tr:nth-child(even) {
  background: rgba(8,10,11,0.18);
}

// Specific: make the table inside the "Achados" modal match the History table (dark/gray)
#findingsModal .modal-content {
  background: rgba(18,23,24,0.95) !important; /* keep modal shell dark */
  color: #eaf7f6 !important;
}

#findingsModal .modal-content .table {
  background: transparent !important;
  color: inherit !important;
  border-collapse: separate !important;
}

#findingsModal .modal-content .table thead th {
  background: $heimdall-dark !important;
  color: #f5fbfb !important;
  border-bottom: 2px solid rgba(255,255,255,0.06) !important;
}

#findingsModal .modal-content .table tbody tr {
  background: linear-gradient(90deg, rgba(8,12,13,0.35), rgba(12,16,17,0.35)) !important;
  color: $heimdall-muted !important;
  transition: background .15s ease !important;
}

#findingsModal .modal-content .table tbody tr:hover {
  background: linear-gradient(90deg, rgba(12,16,17,0.6), rgba(18,22,22,0.6)) !important;
  color: #e9fbfa !important;
}

#findingsModal .modal-content .table tbody td,
#findingsModal .modal-content .table tbody th {
  border-top: 1px solid rgba(255,255,255,0.03) !important;
  color: $heimdall-muted !important;
  background: rgba(10,12,13,0.18) !important;
}

#findingsModal .modal-content .table.table-bordered td,
#findingsModal .modal-content .table.table-bordered th {
  border: 1px solid rgba(255,255,255,0.06) !important;
}

#findingsModal .modal-content .table.table-striped tbody tr:nth-child(odd) {
  background: rgba(12,14,15,0.28) !important;
}
#findingsModal .modal-content .table.table-striped tbody tr:nth-child(even) {
  background: rgba(8,10,11,0.18) !important;
}

// Make form controls stand out on page content area
.editar-box .form-control,
.deletar-box .form-control {
  background: rgba(255,255,255,0.06);
  color: #eaf7f6;
  border: 1px solid rgba(255,255,255,0.04);
}

.editar-box .form-label,
.deletar-box label {
  color: #eaf7f6;
}

.editar-box .btn-primary,
.deletar-box .btn-danger {
  box-shadow: none;
}

// Responsive tweaks
@media (max-width: 768px) {
  .table thead { display: none; }
  .table tbody td { display: block; width: 100%; }
}

// SweetAlert2 dark theme overrides
.swal2-container {
  background-color: rgba(0,0,0,0.6) !important; // darker overlay
}

.swal2-popup {
  background: linear-gradient(180deg, rgba(12,16,17,0.98), rgba(8,12,13,0.98)) !important;
  color: #eaf7f6 !important;
  border-radius: 0.85rem !important;
  border: 1px solid rgba(255,255,255,0.04) !important;
  box-shadow: 0 8px 30px rgba(0,0,0,0.7) !important;
}

.swal2-title {
  color: #ffffff !important;
  font-weight: 600;
}

.swal2-content {
  color: $heimdall-muted !important;
}

.swal2-styled {
  box-shadow: none !important;
  border-radius: 0.35rem !important;
  padding: 0.55rem 1rem !important;
}

.swal2-confirm {
    background: transparent !important;
    color: $heimdall-accent !important;
    border: 1px solid rgba(255,255,255,0.06) !important
}

.swal2-cancel {
    background: transparent !important;
    color: $heimdall-danger !important;
    border: 1px solid rgba(255,255,255,0.06) !important;
}

.swal2-icon {
  box-shadow: none !important;
}

.swal2-icon.swal2-warning {
  color: #fff !important;
}

.swal2-input, .swal2-textarea {
  background: rgba(255,255,255,0.06) !important;
  color: #eaf7f6 !important;
  border: 1px solid rgba(255,255,255,0.06) !important;
  border-radius: 0.35rem !important;
}

.swal2-footer {
  color: $heimdall-muted !important;
}

// Make sure links/buttons inside Swal match theme
.swal2-html-container a {
  color: $heimdall-accent !important;
}

// small responsive tweak
@media (max-width: 576px) {
  .swal2-popup { width: 92% !important; }
}
